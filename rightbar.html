<div id="rightbar" class="crightbar"></div>
        <header>
            <span id="headerUser" class="crightbar-header">Selamat Datang, Se√±or</span>
            <!-- Tombol Logout atau profil bisa di sini -->
        </header>

             <!-- [UI BLOCK: HALAMAN HISTORY ACTIVITY - REVISI GOLD EDITION] -->
            <div id="page_history" class="page hidden">
                
                <h3><i class="fas fa-history"></i> Activity History</h3>

                <!-- FILTER BARIS 1: STATUS & ID JADWAL -->
                <div class="rightbar-action-bar">
                    <!-- TOMBOL MULAI MAINTENANCE (Deep Orange Matte) -->
                    <button onclick="startMaintenanceMode()" class="btn-base btn-gold">
                    <i class="fas fa-play-circle"></i> MULAI MAINTENANCE
                    </button>

                    <!-- Filter Status -->
                    <select id="filterStatusLog" onchange="applyHistoryFilter()" class="input-pendek">
                    <option value="all">üîç SEMUA STATUS</option>
                    <option value="selesai">‚úÖ SELESAI</option>
                    <option value="pending">‚è≥ PENDING</option>
                    </select>

                    <!-- Filter ID Jadwal Dinamis -->
                    <select id="filterJadwalLog" onchange="applyHistoryFilter()" class="input-pendek">
                    <option value="">üìÖ MEMUAT JADWAL...</option>
                    </select>
                    
                    <!-- TOMBOL GLOBAL SEARCH (GOLD / AMBER NEON) -->
                    <div class="search-wrapper-neon input-pendek">
                        <i class="fas fa-search icon-search-gold"></i>
                        <input type="text" id="cari_history" placeholder="Ketik kata kunci..." onkeyup="filterGlobalOpen(this, 'tablehistory')" class="input-neon-gold">
                    </div>
                </div>

                <!-- TABEL HISTORY -->
                <div class="table-responsive-aset">
                    <table id="tablehistory" class="tabel-main-content">
                    <thead>
                        <tr>
                        <th style="width: 80px; min-width: 60px;">ID LOG/ WAKTU</th>
                        <th style="width: 80px; min-width: 60px;">PETUGAS/ ASET/ ID Jadwal</th>
                        <th class="text-center" style="width: 120px; min-width: 100px;">AKSI</th>
                        </tr>
                    </thead>
                    <tbody id="historyBody">
                        <tr>
                        <td colspan="3" class="text-loading">
                            <i class="fa-solid fa-spinner fa-spin"></i> Memuat riwayat aktivitas...
                        </td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>



        <!-- [UI BLOCK: HALAMAN LIHAT JADWAL - REVISI GAHAR] -->
        <div id="page_jadwal" class="page hidden">
            <h3><i class="fas fa-calendar-alt"></i> Lihat Jadwal Maintenance</h3>

            <div class="rightbar-action-bar"> 
           
                <select id="sortJadwal" onchange="loadJad()" class="input-pendek">
                    <option value="newest">üïí Terbaru</option>
                    <option value="oldest">‚åõ Terlama</option>
                    <option value="next_month">‚è© 1 Bln Depan</option>
                    <option value="last_month">‚è™ 1 Bln Blkg</option>
                </select>

                <select id="filterType" onchange="loadJad()" class="input-pendek">
                    <option value="">üì¶ Semua Tipe</option>
                </select>

                <select id="filterState" onchange="loadJad()" class="input-pendek">
                    <option value="">üîò Status</option>
                    <option value="Open" class="text-open">Open</option>
                    <option value="Pending" class="text-pending">Pending</option>
                    <option value="Close" class="text-close">Close</option>
                </select>

                <div class="search-wrapper-neon" >
                    <i class="fas fa-search icon-search"></i>
                    <input type="text" id="cari_jadwal" placeholder="Cari unit atau ID asset..." onkeyup="loadJad();" class="input-neon-gold input-sedang" style="width: 100%;">
                </div>    
            </div>

            <!-- [UI TABEL LIHAT JADWAL] -->
            <div class="table-responsive-aset">
                <table id="tablelihatJadwalMain" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 40px; min-width: 25px;">MAINT ID</th>
                    <th style="width: 40px; min-width: 25px;">UNIT ASET</th>
                    <th style="width: 40px; min-width: 25px;">PLAN DATE <br><small>ID JADWAL </th>
                    <!--
                    <th class="text-center" style="width: 40px; min-width: 35px;">STATE</th>
                    -->
                    <th class="text-center" style="width: 100px; min-width: 50px;">AKSI</th>
                    </tr>
                </thead>
                <tbody id="jadwalBody">
                    <tr>
                    <td colspan="5" class="text-loading">
                        <i class="fa-solid fa-spinner fa-spin"></i> Memuat jadwal maintenance...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>


        <!-- [UI BLOCK: HALAMAN KELOLA JADWAL - REVISI CLEAN CLASS] -->
        <div id="page_kelola" class="page hidden">
            <h3><i class="fas fa-calendar-check"></i> Jadwal Maintenance</h3>
            
                <div class="rightbar-action-bar">
                
                    <button onclick="openMaintModal()" class="btn-base btn-blue" >
                        <i class="fas fa-plus-circle"></i> EDIT
                    </button>

                    <button onclick="exportToExcel()" class="btn-base btn-green" >
                        <i class="fas fa-file-excel"></i> EXPORT
                    </button>

                    <button onclick="document.getElementById('modalImport').style.display='flex'" class="btn-base btn-purple" >
                         <i class="fas fa-file-import"></i> IMPORT
                    </button>

                    <div class="search-wrapper-neon" style="flex: 3; min-width: 250px;">
                        <i class="fas fa-search icon-search"></i>
                        <input type="text" id="cari_kelola_jadwal" placeholder="Cari jadwal..." onkeyup="filterGlobalOpen(this, 'tableJadwalMain')" class="input-neon-gold input-sedang">
                    </div>
                </div>

            <!-- [UI TABEL KELOLA JADWAL] -->
            <div class="table-responsive-aset">
                <table id="tableJadwalMain" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 40px; min-width: 25px;">MAINT ID</th>
                    <th style="width: 40px; min-width: 25px;">UNIT ASET</th>
                    <th style="width: 40px; min-width: 25px;">PLAN DATE <br><small>ID JADWAL</small> </th>
                    <th class="text-center" style="width: 100px; min-width: 110px;">STATE/ AKSI</th>
                    </tr>
                </thead>
                <tbody id="kelolaBody">
                    <tr>
                    <td colspan="5" class="text-loading">
                        <i class="fa-solid fa-spinner fa-spin"></i> Sinkronisasi jadwal...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>


        <!-- [UI BLOCK: MANAJEMEN USER - REVISI CLEAN CLASS] -->
        <div id="page_m_user" class="page hidden">
            <h3><i class="fas fa-users-cog"></i> Manajemen User </h3>
            
            <div class="rightbar-action-bar">
                <!-- Menggunakan class btn-base yang sudah kita definisikan sebelumnya -->
                <button onclick="openAddUserModal()" class="btn-base btn-blue">
                <i class="fa-solid fa-person-circle-plus fa-xl"></i> TAMBAH
                </button>

                <button onclick="downloadCSV()" class="btn-base btn-green">
                <i class="fa-solid fa-person-arrow-up-from-line fa-xl"></i> EXPORT CSV
                </button>

                <button onclick="doBulkAction('aktif')" class="btn-base btn-gold">
                <i class="fa-solid fa-person-circle-check fa-xl"></i> AKTIFKAN
                </button>

                <button onclick="doBulkAction('nonaktif')" class="btn-base btn-purple">
                <i class="fa-solid fa-person-circle-xmark fa-xl"></i> NONAKTIFKAN
                </button>

                <button onclick="doBulkDelete()" class="btn-base btn-red">
                <i class="fa-solid fa-person-circle-minus fa-xl"></i> HAPUS
                </button>
            </div>

            <div class="table-responsive-aset">
                <table id="userTableMain" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 25px; text-align: center;">
                        <input type="checkbox" id="selectAll" onclick="toggleSelectAll()">
                    </th>
                    <th style="width: 40px; min-width: 25px;">USER INFO</th>
                    <th style="width: 100px; min-width: 80px;">LOG LOGIN</th>
                    <th style="width: 70px; min-width: 50px; text-align: center;">AKSI</th>
                    </tr>
                </thead>
                <tbody id="userListBody">
                    <tr>
                    <td colspan="5" style="text-align:center; padding: 40px; opacity: 0.5;">
                        <i class="fa-solid fa-spinner fa-spin"></i> Sinkronisasi database user...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>




        <!-- [UI BLOCK: HALAMAN KELOLA ASET - REVISI GAHAR] -->
        <div id="page_aset" class="page hidden">
            <h3><i class="fas fa-boxes"></i> Kelola Asset </h3>

            <!-- Container Button Action (Sekarang pakai class rightbar-action-bar agar selaras) -->
            <div class="rightbar-action-bar">
                <!-- Bagian Filter Dropdown (Sekarang Glassmorphism) -->
                <div class="filter-container-aset input-pendek">
                    <select id="assetTypeSelect" onchange="loadAssetData(this.value)" >
                    <option value="">-- Pilih Tipe Aset --</option>
                    </select>
                </div>
                <button onclick="openAddAssetModal()" class="btn-base btn-blue">
                <i class="fa fa-plus-circle"></i> ASET BARU
                </button>

                <button id="btnBulkQR" onclick="bulkUpdateQR()" class="btn-base btn-purple">
                <i class="fa-solid fa-qrcode"></i> QR BULK GENERATE
                </button>

                <button onclick="openGlobalSearch()" class="btn-base btn-gold">
                <i class="fas fa-search"></i> MASTER SEARCH
                </button>

                <button id="btnBulkDelete" onclick="doBulkDeleteAsset()" class="btn-base btn-red">
                <i class="fas fa-trash-alt"></i> HAPUS TERPILIH
                </button>
            </div>



            <!-- Pembungkus Tabel Responsif -->
            <div class="table-responsive-aset">
                <table id="assetTableMain" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 25px; min-width: 20px; text-align: center;">
                        <input type="checkbox" id="checkAllAsset" onclick="toggleAllAssets()">
                    </th>
                    <th style="width: 40px; min-width: 35px;">ID/ NAMA ASET/ STATUS</th>
                    <th style="width: 90px; min-width: 80px;">LOKASI</th>
                    <th style="width: 80px; min-width: 50px; text-align: center;">AKSI</th>
                    </tr>
                </thead>
                <tbody id="assetBody">
                    <tr>
                    <td colspan="6" style="text-align:center; padding: 40px; opacity: 0.5;">
                        <i class="fa-solid fa-spinner fa-spin"></i> Memuat data aset...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

        <!-- [UI BLOCK: HALAMAN AUDIT LOG SYSTEM] -->
        <div id="page_log_book" class="page hidden">
            <h3><i class="fa-solid fa-clock-rotate-left"></i> Audit Log System </h3>

            <!-- Tombol Action dengan Efek Timbul 3D -->
            <div class="rightbar-action-bar" >
                <button onclick="loadAuditLogs()" class="btn-base btn-blue">
                <i class="fa-solid fa-arrows-rotate"></i> REFRESH LOG
                </button>

                <button onclick="backupLogSekarang()" class="btn-base btn-gold">
                <i class="fa-solid fa-box-archive"></i> BACKUP LOG
                </button>

                <button onclick="hapusLog()" class="btn-base btn-red">
                <i class="fa-solid fa-eraser"></i> PURGE LOG
                </button>
            </div>

            <!-- Pembungkus Tabel Responsif -->
            <div class="table-responsive-aset">
                <table id="logBookTable" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 60px; min-width: 40px;">WAKTU</th>
                    <th style="width: 60px; min-width: 40px;">PIC / ADMIN</th>
                    <th style="width: 100px; min-width: 80px;" >AKTIVITAS / DETAIL PERUBAHAN</th>
                    </tr>
                </thead>
                <!-- ID logTableBody WAJIB ADA untuk JavaScript Render -->
                <tbody id="logTableBody">
                    <tr>
                    <td colspan="3" style="text-align:center; padding: 40px; opacity: 0.5;">
                        <i class="fa-solid fa-spinner fa-spin"></i> Klik refresh untuk memuat data log...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

        <!-- [UI BLOCK: HALAMAN LIHAT ASET] -->
        <div id="page_lihat_aset" class="page hidden">
            <h3><i class="fa-solid fa-magnifying-glass"></i> Lihat Data Aset </h3>
            
            <!-- Master Search Button (Neon Glow Style) -->
            <div class="rightbar-action-bar">
                <div class="input-pendek">
                <select id="viewAssetTypeSelect" onchange="loadAssetDataView(this.value)">
                <option value="">-- Pilih Tipe Aset --</option>
                </select>
                </div>
                <button onclick="openGlobalSearch()" class="btn-base btn-gold input-sedang">
                 <i class="fas fa-search"></i> MASTER SEARCH
                </button>
            </div>

            <!-- Pembungkus Tabel Responsif -->
            <div class="table-responsive-aset">
                <table id="viewAssetTableMain" class="tabel-main-content">
                <thead id="viewAssetHeader">
                    <tr>
                    <th style="width: 25px; min-width: 20px;">ID Aset</th>
                    <th style="width: 40px; min-width: 35px;">Nama Aset</th>
                    <th style="width: 90px; min-width: 60px;">Lokasi</th>
                    <th style="width: 80px; min-width: 50px; text-align: center;">Detail</th>
                    </tr>
                </thead>
                <tbody id="viewAssetBody">
                    <tr>
                    <td colspan="4" style="text-align:center; padding: 40px; opacity: 0.5;">
                        <i class="fa-solid fa-arrow-up-long"></i> Pilih tipe aset untuk memuat data...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

        <!-- [UI BLOCK: HALAMAN PROFILE] -->
        <div id="page_setting" class="page hidden">
            <div class="modal-content-profile">
                <h3><i class="fas fa-user-cog"></i> Pengaturan Profil</h3>
                
                <div class="profile-photo-wrapper">
                <img id="set_display_photo" src="https://ui-avatars.com" class="avatar-neon">
                <input type="file" id="user_profile_upload" accept="image/*" style="display:none" onchange="uploadOwnPhoto(this)">
                <p class="label-neon-small" onclick="document.getElementById('user_profile_upload').click()">KLIK FOTO UNTUK UBAH</p>
                </div>

                <div class="modal-field-neon">
                <label class="label-neon">USERNAME</label>
                <input type="text" id="set_user" readonly class="input-neon-gold readonly-neon input-pendek">

                <label class="label-neon">PASSWORD BARU</label>
                <input type="password" id="set_pass" placeholder="Kosongkan jika tidak diubah" class="input-neon-gold input-pendek">
                </div>

                <div class="form-row-neon modal-field-neon">
                <div>
                    <label class="label-neon">ROLE</label>
                    <input type="text" id="set_role" readonly class="input-neon-gold readonly-neon input-pendek">
                </div>
                <div>
                    <label class="label-neon">STATUS</label>
                    <input type="text" id="set_status" readonly class="input-neon-gold readonly-neon input-pendek">
                </div>
                </div>

                <div class="modal-field-neon">
                <label class="label-neon">EMAIL ADDRESS</label>
                <input type="email" id="set_email" class="input-neon-gold input-pendek">
                </div>

                <div class="modal-field-neon">
                <label class="label-neon">NOMOR TELEPON</label>
                <input type="text" id="set_phone" class="input-neon-gold input-pendek">
                </div>

                <div class="modal-field-neon">
                <label class="label-neon">LOGIN ATTEMPTS</label>
                <div class="form-row-neon">
                    <input type="text" id="set_attempts" readonly class="input-neon-gold readonly-neon input-pendek">
                    <button disabled class="btn-base btn-gold " >RESET</button>
                </div>
                </div>

                <button id="btnsaveprofile" onclick="saveProf()" class="btn-base btn-blue input-sedang" >
                <i class="fa-solid fa-floppy-o"></i> SIMPAN PERUBAHAN
                </button>
            </div>
        </div>

        <!-- [UI BLOCK: HALAMAN DATABASE MANAGER - SERVER MODE] -->
        <div id="page_db_manager" class="page hidden">
            <h3><i class="fa-solid fa-server"></i> Database & Schema Manager</h3>

            <!-- Barisan Tombol Status & Tools (Gaya Industrial) -->
            <div class="rightbar-action-bar">
                <button id="db_connection_status" onclick="checkDBStatus()" class="btn-base btn-gold">
                <i class="fa-solid fa-database fa-lg"></i> DB STATUS 
                </button>

                <button onclick="inspectDatabase()" class="btn-base btn-gold">
                <i class="fa-solid fa-list-check fa-lg"></i> INSPECT DB 
                </button>

                <button onclick="loadDBComparison()" class="btn-base btn-gold">
                <i class="fa-solid fa-code-compare fa-lg"></i> COMPARISON DB
                </button>
            </div>
                <!-- Tombol Tambah Tipe Aset Baru -->
                <div class="filter-container-aset input-panjang">
                <h4 class="label-neon"><i class="fa-solid fa-plus-circle"></i> TAMBAH TIPE ASET BARU</h4>
                    <div lass="rightbar-action-bar">
                        <input type="text" id="new_type_id" placeholder="ID (Misal: L)" class="input-neon-gold ">
                        <input type="text" id="new_type_name" placeholder="Nama Tipe (Misal: Laptop)" class="input-neon-gold ">

                        <button onclick="addNewTypeAsset()" class="btn-base btn-blue">
                        <i class="fa-solid fa-plus"></i> SIMPAN
                        </button>
                    </div>
                </div>

            <!-- Form Tambah Tipe Aset Baru (Panel Glassmorphism) -->


            <!-- Tabel Registry Database -->
            <div class="table-responsive-aset">
                <table id="dbTableMain" class="tabel-main-content">
                <thead>
                    <tr>
                    <th style="width: 35px; min-width: 25px;">ID</th>
                    <th style="width: 50px; min-width: 40px;">NAMA TIPE / NAMA SHEET</th>
                    <th style="width: 35px; min-width: 24px;"class="text-center">STATUS ACTIVE</th>
                    <th style="width: 55px; min-width: 45px;"class="text-center" style="width: 120px;">AKSI</th>
                    </tr>
                </thead>
                <tbody id="dbTableBody">
                    <tr>
                    <td colspan="4" class="text-loading">
                        <i class="fa-solid fa-spinner fa-spin"></i> Menghubungkan ke database server...
                    </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

</div>